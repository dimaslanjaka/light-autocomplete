function e(e,t,n){if(null==e)return console.error("null input for autocomplete");var i;function l(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("light-autocomplete-active")}(e),i>=e.length&&(i=0),i<0&&(i=e.length-1),e[i].classList.add("light-autocomplete-active")}function a(t){for(var n=document.getElementsByClassName("light-autocomplete-items"),i=0;i<n.length;i++)t!=n[i]&&t!=e&&n[i].parentNode.removeChild(n[i])}e.addEventListener("input",(function(l){var o,r,u=l.target.value;if(a(),!u)return!1;i=-1,(o=document.createElement("DIV")).setAttribute("id",l.target.id+"autocomplete-list"),o.setAttribute("class","light-autocomplete-items"),l.target.parentNode.appendChild(o);const c=function(e,t,n){void 0===n&&(n=!1);for(var i=[],l=function(l){var a=t[l],o=new RegExp("^"+e,"gmi"),r=new RegExp(e+"$","gmi");(o.test(a)||a.includes(e)||r.test(a)||n&&e.replace(/[aeiou]/gi,"").split("").filter((function(e){return a.includes(e)})).length>0)&&i.push(a)},a=0;a<t.length;a++)l(a);return i}(u,t,n);for(let t=0;t<c.length;t++){const n=c[t];r=document.createElement("DIV"),(r=document.createElement("DIV")).innerHTML="",r.innerHTML+=n.substring(u.length),r.innerHTML+="<input type='hidden' value='"+n+"'>",r.addEventListener("click",(function(t){e.value=t.target.getElementsByTagName("input")[0].value,a()})),o.appendChild(r)}})),e.addEventListener("keydown",(function(e){var t=document.getElementById(e.target.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(i++,l(t)):38==e.keyCode?(i--,l(t)):13==e.keyCode&&(e.preventDefault(),i>-1&&t&&t[i].click())})),document.addEventListener("click",(function(e){a(e.target)}))}export{e as default};
//# sourceMappingURL=light-autocomplete.min.js.map
