{"version":3,"file":"autocomplete.js","sources":["../src/autocomplete.js"],"sourcesContent":["/**\n * autocomplete\n * @param {HTMLElement|Element|HTMLInputElement|HTMLTextAreaElement|null} inp\n * @param {string[]} arr\n */\nexport default function autocomplete(inp, arr) {\n  // skip null\n  if (inp == null) return console.error('null input for autocomplete');\n  /*the autocomplete function takes two arguments,\n  the text field element and an array of possible autocompleted values:*/\n  var currentFocus;\n  /*execute a function when someone writes in the text field:*/\n  inp.addEventListener('input', function (e) {\n    var a,\n      b,\n      i,\n      val = e.target.value;\n    /*close any already open lists of autocompleted values*/\n    closeAllLists();\n    if (!val) {\n      return false;\n    }\n    currentFocus = -1;\n    /*create a DIV element that will contain the items (values):*/\n    a = document.createElement('DIV');\n    a.setAttribute('id', e.target.id + 'autocomplete-list');\n    a.setAttribute('class', 'autocomplete-items');\n    /*append the DIV element as a child of the autocomplete container:*/\n    e.target.parentNode.appendChild(a);\n    /*for each item in the array...*/\n    for (i = 0; i < arr.length; i++) {\n      /*check if the item starts with the same letters as the text field value:*/\n      if (arr[i].substring(0, val.length).toUpperCase() == val.toUpperCase()) {\n        /*create a DIV element for each matching element:*/\n        b = document.createElement('DIV');\n        /*make the matching letters bold:*/\n        b.innerHTML = '<strong>' + arr[i].substring(0, val.length) + '</strong>';\n        b.innerHTML += arr[i].substring(val.length);\n        /*insert a input field that will hold the current array item's value:*/\n        b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\n        /*execute a function when someone clicks on the item value (DIV element):*/\n        b.addEventListener('click', function (e) {\n          /*insert the value for the autocomplete text field:*/\n          inp.value = e.target.getElementsByTagName('input')[0].value;\n          /*close the list of autocompleted values,\n              (or any other open lists of autocompleted values:*/\n          closeAllLists();\n        });\n        a.appendChild(b);\n      }\n    }\n  });\n  /*execute a function presses a key on the keyboard:*/\n  inp.addEventListener('keydown', function (e) {\n    var x = document.getElementById(e.target.id + 'autocomplete-list');\n    if (x) x = x.getElementsByTagName('div');\n    if (e.keyCode == 40) {\n      /*If the arrow DOWN key is pressed,\n        increase the currentFocus variable:*/\n      currentFocus++;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode == 38) {\n      //up\n      /*If the arrow UP key is pressed,\n        decrease the currentFocus variable:*/\n      currentFocus--;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode == 13) {\n      /*If the ENTER key is pressed, prevent the form from being submitted,*/\n      e.preventDefault();\n      if (currentFocus > -1) {\n        /*and simulate a click on the \"active\" item:*/\n        if (x) x[currentFocus].click();\n      }\n    }\n  });\n  function addActive(x) {\n    /*a function to classify an item as \"active\":*/\n    if (!x) return false;\n    /*start by removing the \"active\" class on all items:*/\n    removeActive(x);\n    if (currentFocus >= x.length) currentFocus = 0;\n    if (currentFocus < 0) currentFocus = x.length - 1;\n    /*add class \"autocomplete-active\":*/\n    x[currentFocus].classList.add('autocomplete-active');\n  }\n  function removeActive(x) {\n    /*a function to remove the \"active\" class from all autocomplete items:*/\n    for (var i = 0; i < x.length; i++) {\n      x[i].classList.remove('autocomplete-active');\n    }\n  }\n  function closeAllLists(elmnt) {\n    /*close all autocomplete lists in the document,\n    except the one passed as an argument:*/\n    var x = document.getElementsByClassName('autocomplete-items');\n    for (var i = 0; i < x.length; i++) {\n      if (elmnt != x[i] && elmnt != inp) {\n        x[i].parentNode.removeChild(x[i]);\n      }\n    }\n  }\n\n  /*execute a function when someone clicks in the document:*/\n  document.addEventListener('click', function (e) {\n    closeAllLists(e.target);\n  });\n}\n"],"names":["autocomplete","inp","arr","console","error","currentFocus","addEventListener","e","a","b","i","val","target","value","closeAllLists","document","createElement","setAttribute","id","parentNode","appendChild","length","substring","toUpperCase","innerHTML","getElementsByTagName","x","getElementById","keyCode","addActive","preventDefault","click","removeActive","classList","add","remove","elmnt","getElementsByClassName","removeChild"],"mappings":"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"}