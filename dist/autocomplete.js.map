{"version":3,"file":"autocomplete.js","sources":["../src/autocomplete.js"],"sourcesContent":["/**\n * autocomplete\n * @param {HTMLElement|Element|HTMLInputElement|HTMLTextAreaElement|null} inp\n * @param {string[]} arr\n */\nexport default function autocomplete(inp, arr) {\n  // skip null\n  if (inp == null) return console.error('null input for autocomplete');\n  /*the autocomplete function takes two arguments,\n  the text field element and an array of possible autocompleted values:*/\n  var currentFocus;\n  /*execute a function when someone writes in the text field:*/\n  inp.addEventListener('input', function (_e) {\n    var a,\n      b,\n      i,\n      val = this.value;\n    /*close any already open lists of autocompleted values*/\n    closeAllLists();\n    if (!val) {\n      return false;\n    }\n    currentFocus = -1;\n    /*create a DIV element that will contain the items (values):*/\n    a = document.createElement('DIV');\n    a.setAttribute('id', this.id + 'autocomplete-list');\n    a.setAttribute('class', 'autocomplete-items');\n    /*append the DIV element as a child of the autocomplete container:*/\n    this.parentNode.appendChild(a);\n    /*for each item in the array...*/\n    for (i = 0; i < arr.length; i++) {\n      /*check if the item starts with the same letters as the text field value:*/\n      if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\n        /*create a DIV element for each matching element:*/\n        b = document.createElement('DIV');\n        /*make the matching letters bold:*/\n        b.innerHTML = '<strong>' + arr[i].substr(0, val.length) + '</strong>';\n        b.innerHTML += arr[i].substr(val.length);\n        /*insert a input field that will hold the current array item's value:*/\n        b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\n        /*execute a function when someone clicks on the item value (DIV element):*/\n        b.addEventListener('click', function (_e) {\n          /*insert the value for the autocomplete text field:*/\n          inp.value = this.getElementsByTagName('input')[0].value;\n          /*close the list of autocompleted values,\n              (or any other open lists of autocompleted values:*/\n          closeAllLists();\n        });\n        a.appendChild(b);\n      }\n    }\n  });\n  /*execute a function presses a key on the keyboard:*/\n  inp.addEventListener('keydown', function (e) {\n    var x = document.getElementById(this.id + 'autocomplete-list');\n    if (x) x = x.getElementsByTagName('div');\n    if (e.keyCode == 40) {\n      /*If the arrow DOWN key is pressed,\n        increase the currentFocus variable:*/\n      currentFocus++;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode == 38) {\n      //up\n      /*If the arrow UP key is pressed,\n        decrease the currentFocus variable:*/\n      currentFocus--;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode == 13) {\n      /*If the ENTER key is pressed, prevent the form from being submitted,*/\n      e.preventDefault();\n      if (currentFocus > -1) {\n        /*and simulate a click on the \"active\" item:*/\n        if (x) x[currentFocus].click();\n      }\n    }\n  });\n  function addActive(x) {\n    /*a function to classify an item as \"active\":*/\n    if (!x) return false;\n    /*start by removing the \"active\" class on all items:*/\n    removeActive(x);\n    if (currentFocus >= x.length) currentFocus = 0;\n    if (currentFocus < 0) currentFocus = x.length - 1;\n    /*add class \"autocomplete-active\":*/\n    x[currentFocus].classList.add('autocomplete-active');\n  }\n  function removeActive(x) {\n    /*a function to remove the \"active\" class from all autocomplete items:*/\n    for (var i = 0; i < x.length; i++) {\n      x[i].classList.remove('autocomplete-active');\n    }\n  }\n  function closeAllLists(elmnt) {\n    /*close all autocomplete lists in the document,\n    except the one passed as an argument:*/\n    var x = document.getElementsByClassName('autocomplete-items');\n    for (var i = 0; i < x.length; i++) {\n      if (elmnt != x[i] && elmnt != inp) {\n        x[i].parentNode.removeChild(x[i]);\n      }\n    }\n  }\n\n  /*execute a function when someone clicks in the document:*/\n  document.addEventListener('click', function (e) {\n    closeAllLists(e.target);\n  });\n}\n"],"names":["autocomplete","inp","arr","console","error","currentFocus","addEventListener","_e","a","b","i","val","value","closeAllLists","document","createElement","setAttribute","id","parentNode","appendChild","length","substr","toUpperCase","innerHTML","getElementsByTagName","e","x","getElementById","keyCode","addActive","preventDefault","click","removeActive","classList","add","remove","elmnt","getElementsByClassName","removeChild","target"],"mappings":"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"}